{% extends 'base.html' %}
    {% block head %}
    <title>Task Master</title>
    {% endblock %}
    {% block body %}
    <div class = 'content'>
        <h1>Good Afternoon</h1>
        <h3>Today is <span id="timeNow"></span></h3>
        {% if tasks|length < 1%}
        <h4>There are no tasks</h4>
        {% else %}
        <table>

            <colgroup>
                <col span="3" style="background-color: rgba(255, 255, 255, 0.1)">
                <col style="background-color: rgba(255, 0, 0, 0.8)">
            </colgroup>

            <tr>
                <th>Task</th>
                <th>Added</th>
                <th>Edit </th>
                <th>Delete </th>
            </tr>
            {% for task in tasks %}
                <tr>
                    <td>{{ task.content }}
                    </td>
                    <td>
                        {{ task.date_created.strftime("%b %-d, %Y") }}
                        <br>
                        {{ task.date_created.strftime("%-I:%M %p") }} 
                    </td>
                    <td>
                        <a href="/edit/{{ task.id }}"> Edit </a> 
                    </td>
                    <td>
                        <a href="/delete/{{ task.id }}" style="color:white"> Delete </a>                
                    </td>
                </tr>
            {% endfor %}
        </table>
        {% endif %}
        <form action = "/" method = 'POST'>
            <input type= "text" name = "content" id = 'content'>
            <input type="submit" value = 'Add Task'>
        </form>
        <script>

            var elem = document.getElementById("timeNow");
            var now = new Date();
            var options = {  weekday:"long", month: 'short', day: '2-digit',
                            hour: 'numeric', minute: '2-digit'};
            elem.innerHTML = now.toLocaleString('en-us', options);

            
        </script>
    </div>
{% endblock %}

